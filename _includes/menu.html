<!-- Template adapted from http://html5up.net -->
<nav id="menu">
  <h2>Menu</h2>
  <ul>
    <li><a href="/">Home</a></li>

    {% assign sectionCount = '0' %}
    {% for section in site.sections %}
    {% capture sectionCount %}{{ sectionCount | plus: '1' }}{% endcapture %}

    <style>
      .menuList{{ sectionCount }} {
        visibility:hidden;
        height: 0em;
      }
      .menuList{{ sectionCount }}:hover {
        visibility:visible;
      }
      .menuItem{{ sectionCount }} {
      }

      .menuItem{{ sectionCount }}:hover > .menuList{{ sectionCount }} {
        visibility:visible;
        opacity:1;
        transition-delay:0.5s;
        transition-duration: 2s;
        height: 100%;
      }
    </style>

      <li class="menuItem{{sectionCount}}"><a href="{{ section.url }}">{{ section.title }}</a>
          <div class="menuList{{sectionCount}}">
            
            {% assign drawnHeader = '0' %}
            {% for post in site.posts %}
                {% if post.label contains section.label %}
                {% if drawnHeader == '0' %}
                  <ul>
                {% endif %}
                {% capture drawnHeader %}{{ drawnHeader | plus: '1' }}{% endcapture %}
                    <li><a href="{{ post.url }}">{{ post.title }} | {{post.date}}</a></li>
                {% endif %}
            {% endfor %}
                {% if drawnHeader == '0' %}
                <ul style="display:none">
                <li style="display:none"></li>
                {% endif %}
                </ul>
          </div>
      </li>
{% endfor %}
    <li><a style="display:inline" href="/cv">CV</a> - <a style="display:inline" href="/cv/download">Direct Download</a></li>
  </ul>
</nav>
